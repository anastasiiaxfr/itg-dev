{{ $title := slice }}
{{ $description := slice }}

{{ if (.Params.title_before | or .Params.title_after) }}
{{ $title = $title | append .Params.title_before }}
{{ $title = $title | append .Title }}
{{ $title = $title | append .Params.title_after }}
{{ $title = delimit $title " " }}
{{ else }}
{{ $title = .Title }}
{{ end }}

{{ if (.Params.description_before | or .Params.description_after) }}
{{ $description = $description | append .Params.description_before }}
{{ $description = $description | append .Params.description }}
{{ $description = $description | append .Params.description_after }}
{{ $description = delimit $description " " }}
{{ else }}
{{ $description = .Params.description | or .Site.Params.description }}
{{ end }}

<meta charset="utf-8">
<title>{{ .Site.Params.site_name }} | {{ $title | truncate 60 }}</title>
<meta name="description" content="{{ $description | truncate 160 }}">


<meta name="author" content="{{ .Site.Params.author }} && {{ .Site.Params.develop }}">
{{ hugo.Generator }}

<!-- canonical link tag -->
<link rel="canonical" href="{{ .Permalink | absURL }}" />

<!-- Facebook and Twitter integration -->
{{ if not .Site.Params.OpenGraph.hide }}
<!-- FACESPACE -->
<meta property="og:title" content="{{ $title | truncate 60 }}">
<meta property="og:description" content="{{ $description | truncate 160 }}">

<meta property="og:image:height" content="600">
<meta property="og:image:width" content="314">
<meta property="og:image" content="{{ `images/og.jpg` | relURL }}">

<meta property="fb:app_id" content="...">
<meta property="fb:admins" content="{{ .Site.Params.author }}">

<meta property="og:type" content="website" />
<meta property="og:site_name" content="{{ .Site.Params.site_name }}">
<meta property="og:url" content="{{ .Permalink }}">

{{ end }}

<!-- THE TWITTER MACHINE -->
<meta name="twitter:card" content="summary">
<meta name="twitter:url" content="{{ .Permalink }}" />
<meta name="twitter:site" content="{{ .Site.Params.site_url }}">
<meta name="twitter:creator" content="{{ .Site.Params.author }}">
<meta name="twitter:title" content="{{ $title | truncate 60 }}">
<meta name="twitter:description" content="{{ $description | truncate 160 }}">
<meta name="twitter:image" content="{{ `images/og.jpg` | relURL }}" />


<!-- G++ -->
<meta itemprop="name" content="{{  $title | truncate 60 }}">
<meta itemprop="description" content="{{ $description | truncate 60 }}">
<meta itemprop="image" content="{{  `images/og.jpg` | relURL }}">


<link href="{{ `fav/favicon.ico` | relURL }}" rel="shortcut icon" type="image/x-icon" />
<link href="{{ `fav/favicon.ico` | relURL }}" rel="icon" type="image/x-icon" />

<!--Favicon-->
<link rel="shortcut icon" href="{{ `fav/favicon.png` | relURL }}" type="image/x-icon">
<link rel="icon" href="{{ `fav/favicon.png` | relURL }}" type="image/x-icon">

<link rel="apple-touch-icon" sizes="144x144" href="{{ `fav/apple-touch-icon.png` | relURL }}">
<link rel="icon" type="image/png" sizes="32x32" href="{{ `fav/favicon-32x32.png` | relURL }}">
<link rel="icon" type="image/png" sizes="16x16" href="{{ `fav/favicon-16x16.png` | relURL }}">
<link rel="mask-icon" href="{{ `fav/safari-pinned-tab.svg` | relURL }}" color="#fff">

<link rel="manifest" href="{{ `fav/site.webmanifest` | relURL }}">
<link rel="mask-icon" href="{{ `fav/safari-pinned-tab.svg` |relURL }}" color="#333333">
<meta name="msapplication-TileColor" content="#333333">
<meta name="theme-color" content="#f5f5f5">

<!-- Google Tag Manager -->
<!-- <script>(function (w, d, s, l, i) {
    w[l] = w[l] || []; w[l].push({
      'gtm.start':
        new Date().getTime(), event: 'gtm.js'
    }); var f = d.getElementsByTagName(s)[0],
      j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
        'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
  })(window, document, 'script', 'dataLayer', '{{ .Site.Params.gtm }}');</script> -->
<!-- End Google Tag Manager -->

<!-- Google Tag Manager (noscript) -->
<!-- <noscript><iframe src="https://www.googletagmanager.com/ns.html?id={{ .Site.Params.gtm }}" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> -->
<!-- End Google Tag Manager (noscript) -->
